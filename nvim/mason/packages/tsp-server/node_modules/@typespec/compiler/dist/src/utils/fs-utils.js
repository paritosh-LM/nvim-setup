import { joinPaths } from "../core/path-utils.js";
export async function mkTempDir(host, base, prefix) {
    const rnd = Math.random() * 0x100000000;
    const hex = rnd.toString(16).padStart(8, `0`);
    const path = joinPaths(base, ".temp", `${prefix}-${process.pid}-${hex}`);
    try {
        await host.mkdirp(path);
        return path;
    }
    catch (error) {
        if (error.code === `EACCES`) {
            throw new Error(`Cannot create temporary folder at ${path}. Permission denied. Please check your permissions.`);
        }
        else {
            throw error;
        }
    }
}
//# sourceMappingURL=fs-utils.js.map